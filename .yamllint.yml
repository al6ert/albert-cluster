# .yamllint.yml
# Configuration for yamllint tool

extends: default

rules:
  # Line length is often unavoidable in Kubernetes manifests
  line-length:
    max: 160  # Increased for long Kubernetes manifests
    level: warning  # Don't fail build on long lines

  # Comments are important for documentation
  comments:
    min-spaces-from-content: 1
  comments-indentation:
    level: warning  # Don't fail on comment indentation

  # Indentation consistency is crucial
  indentation:
    spaces: 2
    indent-sequences: true
    check-multi-line-strings: false

  # Truthy values are common in Kubernetes
  truthy:
    allowed-values: ['true', 'false', 'yes', 'no']
    check-keys: false

  # Document separators
  document-start:
    present: false

  # Empty lines
  empty-lines:
    max: 2
    max-start: 0
    max-end: 1

  # Brackets
  brackets:
    min-spaces-inside: 0
    max-spaces-inside: 1

  # Braces
  braces:
    min-spaces-inside: 0
    max-spaces-inside: 1

  # Whitespace issues - warnings for auto-fix
  new-line-at-end-of-file:
    level: warning  # Warning instead of error
  trailing-spaces:
    level: warning  # Warning instead of error

ignore: |
  infra/rendered/
  infra/bootstrap/argocd.yaml
  infra/bootstrap/crds/
  infra/charts/hello/templates/
  infra/bootstrap/secrets/
  infra/bootstrap/rbac/
  .github/workflows/
  tmp/
  infra/tmp/
